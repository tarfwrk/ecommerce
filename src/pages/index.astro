astro
---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';

const response = await fetch('https://tarhub.nuxt.dev/api/Items');
const products = await response.json();
---

<Layout title="Home">
	<div class="container">
  <main>
    <h1>Welcome to Our Store!</h1>

    <ul class="product-grid">
      {products.map((product) => (
        <li key={product.id}> 
          <Card 
            title={product.name} 
            image={product.primaryimg} 
            price={product.sprice}
            description={product.desc}
          />
        </li>
      ))}
    </ul>
  </main>
</Layout>

<style>
  .product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    list-style: none;
    padding: 0;
  }

  .product-grid li {
    list-style: none;
    margin: 0;
    padding: 0;
  }
</style>
